---
---

@import "reset";
@import "colors";
@import "images";
@import "breakpoints";
@import "typography";

.home__section {
    position: relative;
    display: flex;
    flex-direction: column;
    padding: $header-height $site-paddings 3rem;
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;

    &#team {
		padding-bottom: 175px;
    }
}

.home__section-content {
    display: flex;
    flex-direction: column;
    flex: 1;
    justify-content: center;
}

.home__section-row {
    display: flex;

    @include m-media(zr, sm) {
        flex-direction: column;
    }

	@media (orientation: portrait) {
		flex-direction: column;
	}
	&.home__us{
		@media screen and (min-width: 769px) and (max-width: 1050px) {
			flex-direction: column;
		}
	}
}


.home__section-column.column {
    display: flex;
    flex-direction: column;
    justify-content: center;

	@include m-media(zr, sm) {
		width: 100%;
	}

	@media (orientation: portrait) {
		width: 100%;
	}
	&.home__us{
		@media screen and (min-width: 769px) and (max-width: 1050px) {
			width: 100%;
		}
	}
}

.home__landing {
	flex: 1;
	display: flex;
	flex-direction: column;
	background-color: #051d41;
	padding: 0 $site-paddings;
	margin: 0 calc(#{$site-paddings} * -1);
	border-bottom: 10px solid #fe9e00;

	.home__title {
		flex: 1;
		height: 100%;
		@include m-background-image('/assets/images/landing.gif');
	}
}


.home__cite {
	flex: 1;
    display: flex;
	flex-direction: column;
	justify-content: center;
	padding-bottom: 10%;
    margin: 0 auto;

    .is-mobile & {
        blockquote {
            font-size: .9em;
        }

        figcaption {
            font-size: .7em;
        }
    }

    blockquote {
        font-size: ms(0);
    }

    figcaption {
        padding-left: 15%;
        text-align: right;
        margin: 1em 0;
        font-size: .8em;
    }
}

.home__services {
    padding-right: 5%;

    .subtitle {
        margin-bottom: .5em;
    }

    img {
        filter: grayscale(.5) drop-shadow(2px 2px 2px #0003);
        filter: drop-shadow(2px 2px 2px #0003);
        transition: filter 200ms ease-in;
		width: 300px;

		.is-mobile & {
			@media (orientation: portrait) {
				width: 50vw;
			}
		}

		&:active {
			filter: drop-shadow(0px 0px 0px transparent); 
		}

		@include m-media(zr, sm) {
			width: 250px;
		}

		@media (orientation: portrait) {
			width: 250px;
		}

		@include m-media(zr, xsm) {
			width: 200px;
		}

		@media screen and (max-height: 750px){
			width: 200px;
		}
    }

    .home__section-row {
        &:not(:last-child) {
			padding-top: 1em;
            padding-bottom: 1em;
            border-bottom: 2px dashed #ccc;

			@include m-media(zr, sm) {
				padding-bottom: 1em;
			}

			@media (orientation: portrait) {
				padding-bottom: 1em;
			}
        }

        &:not(:first-child) {
            padding-top: 2em;

			@include m-media(zr, sm) {
				padding-top: 1em;
			}

			@media (orientation: portrait) {
				padding-top: 1em;
			}
        }

        .button {
            width: fit-content;
            padding: 0 1em;
            margin-top: 1rem;
        }

		@include m-media(zr, sm) {
			text-align: center;

			.button {
				margin: auto;
			}
		}

		@media (orientation: portrait) {
			text-align: center;

			.button {
				margin: auto;
			}
		}
    }

    .home__section-column {
		@include m-media(zr, sm) {
			.title {
				font-size: ms(1);
				margin-bottom: .5em;
			}

			.subtitle {
				display: none;
			}

			.button {
				font-size: 0.85em;
			}
		}

		@media (orientation: portrait) {
			.title {
				font-size: ms(1);
			}

			.subtitle {
				display: none;
			}

			.button {
				font-size: 0.85em;
			}
		}

		&.img-column {
	        figure {
				width: 100%;
	            display: flex;
	            flex-direction: column;
	            justify-content: center;
	            align-items: center;
	
	            figcaption {
	                text-align: center;
	                margin-top: .5em;
	                font-weight: bold;
	                font-size: 1.5em;
	            }
			}
		}
    }
}

.home__us {
    flex: 1;

    .home__section-column {
        display: flex;
        justify-content: center;
		@media  screen and (max-height:750px) and (min-width:769px){
			font-size: 16px;
		}
        .title {
            margin-bottom: .5rem;
    	}
	}
}

        // .toggle-container {
        //     margin: 3rem 0;
        //     border-bottom: 2px solid lightgrey;
        //     position: relative;  
        // }

        // .us__information-toggle {
		//     text-decoration: none;
		//     color: $font-color;
        //     display: block;

		// 	&.open {
		// 		padding-bottom: .75rem;
		// 	}
            
        //     .us__information-toggle-btn{
        //         width: fit-content;
        //         cursor: pointer; 
                
        //         &::after{
        //             position: absolute;
		// 		    top: -2px;
		// 		    right: 0px;
		// 		    content: "";
		// 		    border: solid $font-color;
		// 		    border-width: 0 3px 3px 0;
		// 		    display: inline-block;
		// 		    padding: 4px;
		// 		    transform: translateY(50%) rotate(45deg);
		// 		    transition: transform 250ms ease-out;

		// 			.is-mobile & {
		// 				border-width: 0 1px 1px 0;
		// 			}
        //         }
        //}   

            // .us__information-description {
            //     display: none;
            // }

            // &.open {
            //     .us__information-toggle-btn:after {
            //         transform: translateY(100%) rotate(-135deg);
            //     }
    
            //     .us__information-description {
            //         display: block;
            //     }
            // }
    

    .home__profiles-wrapper {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
		background-color: white;
		border: 3px solid white;
		border-radius: 5px;

		@mixin m-height-breakpoints {
			height: 200px;

    		@include m-media(xxsm) {
    			height: 250px;
    		}
    
    		@include m-media(xsm) {
    			height: 300px;
    		}
    
    		@include m-media(md) {
    			height: 400px;	
    		}
		}

		&.as-text {
			.home__team-picture {
				width: 100%;
				height: 0px;
			}

			.home__profiles {
				@include m-height-breakpoints();

				.home__profile {
					h5, p {
						opacity: 1;
						font-size: .8rem;
						@include m-media(xsm) {
							font-size: 1rem;
						}
					}
				}
			}
		}

        .home__team-picture {
			width: 100%;
			border-radius: 5px;
			transition: height 400ms ease-in-out;
			@include m-background-image("/assets/images/nosaltres-r.jpg", cover);
			@include m-height-breakpoints();
        }

		.home__profiles {
			width: 100%;
			height: 0px;
			transition: height 400ms ease-in-out;
			display: flex;

			.home__profile {
				margin: 2rem 0;
				padding: 0 2rem;
				text-align: center;
				flex: 1;
				display: flex;
				flex-direction: column;
				justify-content: center;

				+ .home__profile {
					border-left: 1px dashed #ccc;
				}

    			@include m-media(xxsm) {
					padding: 0 2rem;
    			}
    
    			@include m-media(xsm) {
					padding: 0 2.5rem;
    			}
    
				h5, p {
					opacity: 0;
					transition: margin 400ms ease-in-out, font-size 400ms ease-in-out, opacity 300ms ease-out;
					margin: 0px;
					font-size: 0px;
				}
			}
		}
    }


.scroll-viewport {
    position: absolute;
    z-index: 90;
    pointer-events: none;
    top: 0px;
    left: 0px;
    width: 100vw;
    height: 100vh;
    overflow-x: hidden;
    overflow-y: auto;
}

.scroll-span {
    width: 100%;
    margin-top: -#{$header-height};
    background: transparent;
}
#projects{
	.home__projects {
		@include m-media(zr, sm) {
			.button {
				font-size: 0.85em;
			}
		}

		@media (orientation: portrait) {
			.button {
				font-size: 0.85em;
			}
		}
	}
	.projects__data{
		padding: 40px 0;
	}
	.projects__product{
		align-items: start;
		padding-right: 0px;
		&:first-child {
			padding-left: 0px;
		}
	}
	.container__home__projects{
		display: flex;
		align-items: center;
		justify-content: center;
	}
	.home__projects{
		margin-top: 40px;
		padding-bottom: 100px;
	}
	.projects__product-tags li{
		display: inline;
		&:not(:first-child){
			margin-left: 7px;
		}
	}
}
