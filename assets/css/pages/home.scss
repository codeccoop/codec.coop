---
---

@import "reset";
@import "colors";
@import "images";
@import "breakpoints";
@import "typography";

.home__section {
    position: relative;
    display: flex;
    flex-direction: column;
    padding: $header-height $site-paddings 3rem;
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
	min-height: calc(var(--vh, 1vh) * 100);

	.is-mobile & {
		padding-top: $mobile-header-height;
	}

	&#home {
		padding-bottom: 55px;
	}
}

.home__section-content {
    display: flex;
    flex-direction: column;
    flex: 1;
    justify-content: center;
}

.home__section-row {
    display: flex;

    @include m-media(zr, sm) {
        flex-direction: column;
    }

	@media (orientation: portrait) {
		flex-direction: column;
	}
	&.home__us{
		@media screen and (min-width: 769px) and (max-width: 1050px) {
			flex-direction: column;
		}
	}
}


.home__section-column.column {
    display: flex;
    flex-direction: column;
    justify-content: center;

	@include m-media(zr, sm) {
		width: 100%;
	}

	@media (orientation: portrait) {
		width: 100%;
	}
	&.home__us{
		@media screen and (min-width: 769px) and (max-width: 1050px) {
			width: 100%;
		}
	}
}

.home__title {
	margin-top: 2rem;
    font-size: ms(4);
    font-weight: 500;
    line-height: .9;

	#home & {
		color: white;
		margin-top: 40px;

		.is-mobile & {
			margin-top: 60px;
		}

		+ .subtitle {
			margin-top: -0.25rem;
		}
	}

    &:not(:last-child) {
        margin-bottom: 2rem;
    }
}

.home__landing {
	flex: 1;
	display: flex;
	flex-direction: column;
	background-color: #43437a;
	// background-color: $deep-cove;
	padding: 0 $site-paddings;
	margin: 0 calc(#{$site-paddings} * -1);
	border-bottom: 10px solid $orange-peel;
	position: relative;

	.home__brand {
		position: absolute;
		top: calc(50% - 95px);
		left: 0;
		right: 0;
		margin: auto;
		padding: 0 10vw;
	}

	.title {
		text-shadow: 0px 0px 5px #fff3;
		text-align: center;
		color: white;
		font-weight: 500;

		.cursor {
			height: 1em;
			border: .5px solid;
			width: 0px;

			&.highlight {
				color: $orange-peel;
			}
		}
	}

	.title.is-1 {
		font-size: 6rem;
		margin-bottom: 0px;

		.is-mobile & {
			font-size: 4rem;

			.highlight .cursor {
				border-width: 1px;
			}
		}

		.highlight {
			color: $orange-peel;

			.cursor {
				margin: .05em;
				border-width: 2px;
			}
		}

		.bytes {
			vertical-align: middle;
			color: $orange-peel;
			font-size: 0.6em;
			margin-bottom: .2em;
		}
	}

	.title.is-4 {
		margin-top: 40px;

		.is-mobile & {
			font-size: 1.5rem;
		}
	}
}

.home__landing-chevron {
	position: absolute;
	bottom: 20px;
	left: 50%;
	display: block;
	width: 35px;
	height: 35px;
	border-bottom: 3px solid $font-color;
	border-left: 3px solid $font-color;
	transform: translateX(-50%) rotate(315deg);
	cursor: pointer;
	transition: transform 200ms;

	&:hover {
		transform: translate(-50%, -5px) rotate(315deg)
	}
}


.home__services {
    padding-right: 5%;

    .subtitle {
        margin-bottom: .5em;
    }

    img {
        filter: grayscale(.5) drop-shadow(2px 2px 2px #0003);
        filter: drop-shadow(2px 2px 2px #0003);
        transition: filter 200ms ease-in;
		width: 200px;

		.is-mobile & {
			@media (orientation: portrait) {
				width: 50vw;

				@media (max-height: 500px) {
					width: 40vw;
				}
			}
		}

		&:active {
			filter: drop-shadow(0px 0px 0px transparent); 
		}

		@include m-media(xsm) {
			width: 240px;
		}

		@include m-media(sm) {
			width: 300px;
		}

		@media screen and (max-height: 750px){
			width: 200px;
		}

    }

    .home__section-row {
        &:not(:last-child) {
			padding-top: 1em;
            padding-bottom: 1em;
            border-bottom: 2px dashed #ccc;

			@include m-media(zr, sm) {
				padding-bottom: 1em;
			}

			@media (orientation: portrait) {
				padding-bottom: 1em;
			}
        }

        &:not(:first-child) {
            padding-top: 2em;

			@include m-media(zr, sm) {
				padding-top: 1em;
			}

			@media (orientation: portrait) {
				padding-top: 1em;
			}
        }

        .button {
            width: fit-content;
            padding: 0 1em;
            margin-top: 1rem;
        }

		@include m-media(zr, sm) {
			text-align: center;

			.button {
				margin: auto;
			}
		}

		@media (orientation: portrait) {
			text-align: center;

			.button {
				margin: auto;
			}
		}
    }

    .home__section-column {
		@include m-media(zr, sm) {
			.title {
				font-size: ms(1);
				margin-bottom: .5em;
			}

			.subtitle {
				display: none;
			}

			.button {
				font-size: 0.85em;
			}
		}

		@media (orientation: portrait) {
			.title {
				font-size: ms(1);
			}

			.subtitle {
				display: none;
			}

			.button {
				font-size: 0.85em;
			}
		}

		&.img-column {
	        figure {
				width: 100%;
	            display: flex;
	            flex-direction: column;
	            justify-content: center;
	            align-items: center;
	
	            figcaption {
	                text-align: center;
	                margin-top: .5em;
	                font-weight: bold;
	                font-size: 1.5em;
	            }
			}
		}
    }
}

#team {

	@media (orientation: portrait) {
		.home__section-row {
			flex-flow: column-reverse;
		}
	}

	.home__us {
		.title {
			margin-bottom: .5rem;
		}

		.is-mobile & {
			.hiddable {
				display: none;
			}
		}
	}

    .home__profiles-wrapper {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
    	background-color: white;
    	border: 3px solid white;
    	border-radius: 5px;
    
    	@mixin m-height-breakpoints {
    		height: 150px;
    
        	@include m-media(xxsm) {
        		height: 250px;
        	}
        
        	@include m-media(xsm) {
        		height: 300px;
        	}
        
        	@include m-media(md) {
        		height: 400px;	
        	}
    	}
    
    	&:hover {
    		.home__team-picture {
    			width: 100%;
    			height: 0px;
    		}
    
    		.home__profiles {
    			@include m-height-breakpoints();
    
    			.home__profile {
    				h5, p {
    					opacity: 1;
    					font-size: .8rem;
    
    					@include m-media(xsm) {
    						font-size: 1rem;
    					}
    				}
    			}
    		}
    	}
    
        .home__team-picture {
    		width: 100%;
    		border-radius: 5px;
    		transition: height 400ms ease-in-out;
    		@include m-background-image("/assets/images/nosaltres-r.jpg", cover);
    		@include m-height-breakpoints();
        }
    
    	.home__profiles {
    		width: 100%;
    		height: 0px;
    		transition: height 400ms ease-in-out;
    		display: flex;
    
    		.home__profile {
    			margin: 2rem 0;
    			padding: 0 2rem;
    			text-align: center;
    			flex: 1;
    			display: flex;
    			flex-direction: column;
    			justify-content: center;
    
    			+ .home__profile {
    				border-left: 1px dashed #ccc;
    			}
    
    			@include m-media(xxsm) {
    				padding: 0 2rem;
        		}
        
        		@include m-media(xsm) {
    				padding: 0 2.5rem;
        		}
        
    			h5, p {
    				opacity: 0;
    				transition: margin 400ms ease-in-out, font-size 400ms ease-in-out, opacity 300ms ease-out;
    				margin: 0px;
    				font-size: 0px;
    			}
    		}
    	}
    }
}

.scroll-viewport {
    position: absolute;
    z-index: 90;
    pointer-events: none;
    top: 0px;
    left: 0px;
    width: 100vw;
    height: 100vh;
    overflow-x: hidden;
    overflow-y: auto;
}

.scroll-span {
    width: 100%;
    margin-top: -#{$header-height};
    background: transparent;
}

#projects {
	.projects__content {
		flex: 1;
		display: flex;
		flex-direction: column;
		justify-content: center;
	}

	.home__projects {
		@include m-media(zr, sm) {
			.button {
				font-size: 0.85em;
			}
		}

		@media (orientation: portrait) {
			.button {
				font-size: 0.85em;
			}
		}
	}

	.projects__data {
		padding: 0px;
	}

	.projects__product {
		width: 100%;

		&:not(:last-child) {
			padding-bottom: 2rem;

			@media screen and (max-height: 520px) {
				padding-bottom: 1rem;
			}
		}

		&:last-child {
			margin-top: unset;
		}

		@include m-media(md) {
			width: 50%;

			&:nth-child(odd) {
				padding-right: 1rem;
			}

			&:nth-child(even) {
				padding-left: 1rem;
			}

			&:not(:last-child) {
				padding-bottom: 0px;
			}
		}

		> a > img {
			@media screen and (max-height: 520px) {
				height: 30vw;
			}
		}

		.projects__product-body {
			width: 100%;
		}

		.is-mobile & {
			.projects__product-title {
				margin-top: .5rem;
			}
		}
	}

	.container__home__projects {
		display: flex;
		align-items: center;
		justify-content: center;
		margin-top: 2rem;
	}

	.projects__product-tags li{
		display: inline;

		&:not(:first-child){
			margin-left: 7px;
		}
	}
}
